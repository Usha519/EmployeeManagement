<nav class="navbar" style="background-color: #8d98a0;">
    <div class="container d-flex justify-content-between align-items-center">
        <a class="navbar-brand" href="#">
            <img class="logo" src="assets/Images/employeeLogo.png" width="30" height="24">
            <span class="navbar-brand mb-0 h1">Employee Attendance</span>
        </a>

    </div>
    <button type="button" class="btn btn-light" routerLink="/dashboard">Dashboard</button>&nbsp;
    <button type="button" class="btn btn-light " (click)="OnLogout()">Logout</button>

</nav>


<form [formGroup]="AttendanceForm" (ngSubmit)="OnCreateAttendance()">
    <mat-form-field>
        <input matInput [matDatepicker]="picker" class="form-control" formControlName="myDate"
            placeholder="Choose a date">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <div *ngIf="employees && employees.length > 0">
        <div class="container">
            <table class="table ">
                <thead class="thead-dark">
                    <tr class="table-danger border border-secondary">
                        <th>Name</th>
                        <th>Status</th>

                    </tr>
                </thead>
                <tbody formArrayName="employees">
                    <tr *ngFor="let employee of employees; let i = index" [formGroupName]="i">
                        <td>{{ employee.name }}</td>
                        <td>
                            <select class="form-control" formControlName="status">
                                <option disabled selected>Select status</option>
                                <option value="present">Present</option>
                                <option value="absent">Absent</option>
                                <option value="late">Late</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <button type="submit" class="btn btn-secondary">Submit</button>

</form>

<div *ngIf="attendance && attendance.length > 0">
    <div class="container">
        <table class="table ">
            <thead class="thead-dark">
                <tr class="table-danger border border-secondary">


                    <th>Employee Name</th>
                    <th *ngFor="let record of attendance">{{ record.date | date: 'yyyy-MM-dd' }}</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let attendee of getUniqueAttendees()">
                    <td>{{ attendee.name }}</td>
                    <td *ngFor="let record of attendance">
                        {{ getAttendanceStatus(attendee, record) }}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<form [formGroup]="AttendanceByDateForm" (ngSubmit)="OnGetAttendanceByDate()">
    <mat-form-field>
        <input matInput [matDatepicker]="picker1" class="form-control" formControlName="date"
            placeholder="Choose a date">
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>

    <button type="submit" class="btn btn-secondary">Submit</button>

</form>